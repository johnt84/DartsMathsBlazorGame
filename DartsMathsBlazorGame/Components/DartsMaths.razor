<MudItem Class="mt-4 ml-4 mb-4">
    <MudField Typo="Typo.h5" >
        <MudImage Src="images/dartboard.jpg"
        Width="75"
        Height="75"
        Alt="Datboard"
        Class="rounded-lg ma-4" />

        Darts Maths
    </MudField>
</MudItem>

@if (ScoreForMathsGuess is not null)
{
    <MudStack Row="true">
        @if (ScoreForMathsGuess.Scores is not null)
        {
            int dartIndex = 0;

            foreach (var score in ScoreForMathsGuess.Scores)
            {
                string scoreLabel = $"Dart {dartIndex + 1}";

                string ScoreIcon =
                    dartIndex + 1 == 2 ? Icons.Material.Filled.ArrowForward : Icons.Material.Filled.Add;

                if (ContainsABull(score.ScoreArea))
                {
                    <MudItem Class="mt-4 ml-4 mb-4" md="1" xs="3">
                        <MudField Label="@scoreLabel"
                        Adornment="Adornment.End"
                        AdornmentIcon="@ScoreIcon"
                        AdornmentColor="Color.Primary">
                            @score.ScoreArea
                        </MudField>
                    </MudItem>
                }
                else
                {
                    <MudItem Class="mt-4 ml-4 mb-4" md="1" xs="3">
                        <MudField Label="@scoreLabel"
                        Adornment="Adornment.End"
                        AdornmentIcon="@ScoreIcon"
                        AdornmentColor="Color.Primary">
                            @score.ScoreLabel
                        </MudField>
                    </MudItem>
                }

                dartIndex++;
            }
        }

        <MudItem Class="mt-4 ml-4 mb-6" md="1" xs="3">
            <MudField Label="Left to score"
            Adornment="Adornment.End"
            AdornmentIcon="@Icons.Material.Filled.Dashboard"
            AdornmentColor="Color.Primary">
                @ScoreForMathsGuess.LeftToScore
            </MudField>
        </MudItem>
    </MudStack>

    <MudStack Row="true">
        <MudItem Class="mt-4 ml-4 mb-4" md="1" xs="4">
            @if (SelectedScoreArea == ScoreArea.Bullseye)
            {
                <ScoreAreaDropdown ReadOnly="IsGuessCorrect is not null" 
                                   @bind-ScoringArea="SelectedScoreArea"
                                   Adornment="Adornment.End"
                                   AdornmentIcon="@GuessStatusIcon(IsGuessCorrect)"
                                   AdornmentColor="GuessStatusColor(IsGuessCorrect)" />
            }
            else
            {
                <ScoreAreaDropdown ReadOnly="IsGuessCorrect is not null"
                                   @bind-ScoringArea="SelectedScoreArea" />
            }
        </MudItem>

        @if (SelectedScoreArea != ScoreArea.Bullseye)
        {
            <MudItem Class="mt-4 ml-4 mb-4" md="1" xs="4">
                <MudNumericField T="int"
                                 ReadOnly="IsGuessCorrect is not null"
                                 Label="Score Value"
                                 Min="1"
                                 Max="20"
                                 @bind-Value="ScoreValue"
                                 Adornment="Adornment.End"
                                 AdornmentIcon="@GuessStatusIcon(IsGuessCorrect)"
                                 AdornmentColor="GuessStatusColor(IsGuessCorrect)" />
            </MudItem>
        }

        @if (IsGuessCorrect is not null)
        {
            @if (!IsGuessCorrect.Value == true)
            {
                <MudItem Class="mt-4 ml-4 mb-4" md="1" xs="4">
                    <MudField Label="Correct Score"
                              Adornment="Adornment.End"
                              AdornmentIcon="@Icons.Material.Filled.CheckCircle"
                              AdornmentColor="Color.Success">
                        @ScoreForMathsGuess.ScoreToFinish.ScoreLabel
                    </MudField>
                </MudItem> 
            }
        }
    </MudStack>

    <MudStack Row="true">
        <MudButton Variant="Variant.Filled"
                   Disabled="IsGuessCorrect is not null"
                   Class="ml-4 mt-4"
                   Color="Color.Primary"
                   OnClick="OnGuessClick"
                   Size="Size.Small">
            Guess
        </MudButton>

        <MudButton Variant="Variant.Filled"
                   Class="ml-4 mt-4"
                   Color="Color.Primary"
                   OnClick="OnNextClick"
                   Size="Size.Small">
            Next
        </MudButton>

        <ScoreGuideButton />
    </MudStack>

}